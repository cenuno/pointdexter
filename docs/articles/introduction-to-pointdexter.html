<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to <code>pointdexter</code> • pointdexter</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to &lt;code&gt;pointdexter&lt;/code&gt;">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pointdexter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction-to-pointdexter.html">Introduction to `pointdexter`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/cenuno/pointdexter">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to <code>pointdexter</code>
</h1>
                        <h4 class="author">Cristian E. Nuno</h4>
            
            <h4 class="date">January 14, 2019</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/cenuno/pointdexter/blob/master/vignettes/introduction-to-pointdexter.Rmd"><code>vignettes/introduction-to-pointdexter.Rmd</code></a></small>
      <div class="hidden name"><code>introduction-to-pointdexter.Rmd</code></div>

    </div>

    
    
<p><base target="_top"></p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The <code>pointdexter</code> package labels longitudinal and latitudinal coordinates located inside a polygon. This document introduces you to <code>pointdexter</code>’s two functions:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/GetPolygonBoundaries.html">GetPolygonBoundaries()</a></code>; and</li>
<li>
<code><a href="../reference/LabelPointsWithinPolygons.html">LabelPointsWithinPolygons()</a></code>.</li>
</ol>
</div>
<div id="spatial-data-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#spatial-data-packages" class="anchor"></a>Spatial Data Packages</h2>
<p><code>pointdexter</code> is compatible with the two packages most useful for working with spatial data: <a href="https://www.rdocumentation.org/packages/sf/versions/0.7-2"><code>sf</code></a> and <a href="https://www.rdocumentation.org/packages/sp/versions/1.3-1"><code>sp</code></a>. I’ll only use the <code>sp</code> package for this vignette.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load necessary packages -----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(pointdexter) <span class="co"># label coordinate pairs in polygons</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sp)          <span class="co"># classes and methods for spatial data</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(knitr)       <span class="co"># simple table generator</span></code></pre></div>
</div>
<div id="built-in-data" class="section level2">
<h2 class="hasAnchor">
<a href="#built-in-data" class="anchor"></a>Built-in Data</h2>
<p><code>pointdexter</code> comes with built-in point and polygon data - entirely due to the awesome and accessible <a href="https://data.cityofchicago.org/">Chicago Data Portal</a> - to help you label points in polygons.</p>
<div id="point-data" class="section level3">
<h3 class="hasAnchor">
<a href="#point-data" class="anchor"></a>Point Data</h3>
<p>The coordinate pair data comes from the <a href="https://data.cityofchicago.org/Education/Chicago-Public-Schools-School-Profile-Information-/kh4r-387c">Chicago Public Schools (CPS) - School Profile Information, School Year (SY) 2018-2019</a> data set. Each coordinate pair represents a school.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load necessary data ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"cps_sy1819"</span>)

<span class="co"># store relevant columns ----</span>
relevant.columns &lt;-
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"school_id"</span>, <span class="st">"short_name"</span>
    , <span class="st">"school_longitude"</span>, <span class="st">"school_latitude"</span>)

<span class="co"># print first few rows of data ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(cps_sy1819[, relevant.columns])
      , <span class="dt">caption =</span> <span class="st">"Table 1. Examining CPS SY1819 school profile data"</span>)</code></pre></div>
<table class="table">
<caption>Table 1. Examining CPS SY1819 school profile data</caption>
<thead><tr class="header">
<th align="left">school_id</th>
<th align="left">short_name</th>
<th align="right">school_longitude</th>
<th align="right">school_latitude</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">609760</td>
<td align="left">CARVER MILITARY HS</td>
<td align="right">-87.59062</td>
<td align="right">41.65629</td>
</tr>
<tr class="even">
<td align="left">609780</td>
<td align="left">MARINE LEADERSHIP AT AMES HS</td>
<td align="right">-87.72174</td>
<td align="right">41.91604</td>
</tr>
<tr class="odd">
<td align="left">610304</td>
<td align="left">PHOENIX MILITARY HS</td>
<td align="right">-87.68696</td>
<td align="right">41.87912</td>
</tr>
<tr class="even">
<td align="left">610513</td>
<td align="left">AIR FORCE HS</td>
<td align="right">-87.63276</td>
<td align="right">41.82814</td>
</tr>
<tr class="odd">
<td align="left">610390</td>
<td align="left">RICKOVER MILITARY HS</td>
<td align="right">-87.66579</td>
<td align="right">41.98902</td>
</tr>
<tr class="even">
<td align="left">609754</td>
<td align="left">CHICAGO MILITARY HS</td>
<td align="right">-87.61922</td>
<td align="right">41.83055</td>
</tr>
</tbody>
</table>
</div>
<div id="polygon-data" class="section level3">
<h3 class="hasAnchor">
<a href="#polygon-data" class="anchor"></a>Polygon Data</h3>
<p>To show what <code>pointdexter</code> does, we’ll be using two types of spatial data from the City of Chicago: the <a href="https://data.cityofchicago.org/Facilities-Geographic-Boundaries/Boundaries-City/ewy2-6yfk">city boundary</a> and <a href="https://data.cityofchicago.org/Facilities-Geographic-Boundaries/Boundaries-City/ewy2-6yfk">community area</a> polygons.</p>
<p>While the city boundary is helpful for generating city-wide statistics, researchers typically use the <a href="http://www.encyclopedia.chicagohistory.org/pages/319.html">77 Chicago community areas</a> when creating local-level statistics.</p>
<p><code>pointdexter</code> makes both polygons available as <a href="https://r-spatial.github.io/sf/articles/sf1.html#what-is-a-feature"><code>sf</code></a> and <a href="https://www.rdocumentation.org/packages/sp/versions/1.2-5/topics/SpatialPolygonsDataFrame-class"><code>SpatialPolygonsDataFrame</code></a> objects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load city boundary data ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"city_boundary_spdf"</span>)

<span class="co"># load community area data ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"community_areas_spdf"</span>)

<span class="co"># visualize polygons -----</span>
<span class="co"># note: clear plot space</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/par">par</a></span>(<span class="dt">mar =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>))

<span class="co"># plot city boundary</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(city_boundary_spdf
     , <span class="dt">main =</span> <span class="st">"City of Chicago boundary"</span>
     , <span class="dt">col =</span> <span class="st">"gray85"</span>
     , <span class="dt">border =</span> <span class="st">"dodgerblue4"</span>)

<span class="co"># plot community areas</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(community_areas_spdf
     , <span class="dt">main =</span> <span class="st">"Chicago's 77 community areas"</span>
     , <span class="dt">col =</span> <span class="st">"gray85"</span>
     , <span class="dt">border =</span> <span class="st">"dodgerblue4"</span>)</code></pre></div>
<p><img src="introduction-to-pointdexter_files/figure-html/load%20polygon%20data-1.png" width="700"><img src="introduction-to-pointdexter_files/figure-html/load%20polygon%20data-2.png" width="700"></p>
</div>
</div>
<div id="step-1--use-getpolygonboundaries" class="section level2">
<h2 class="hasAnchor">
<a href="#step-1--use-getpolygonboundaries" class="anchor"></a>Step 1. Use GetPolygonBoundaries()</h2>
<p><code><a href="../reference/GetPolygonBoundaries.html">GetPolygonBoundaries()</a></code> returns the longitudinal and latitudinal points that make up the boundary of the polygon(s). The first argument is the polygon stored in the <code>sf</code> or <code>SpatialPolygonsDataFrame</code> object.</p>
<div id="one-polygon" class="section level3">
<h3 class="hasAnchor">
<a href="#one-polygon" class="anchor"></a>One polygon</h3>
<p>If <code>my.polygon</code> only contains one polygon, a <a href="https://www.rdocumentation.org/packages/base/versions/3.5.1/topics/matrix">matrix</a> of coordinate pairs will be returned.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create coordinate pair matrix for city of chicago boundary ----</span>
boundary &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/GetPolygonBoundaries.html">GetPolygonBoundaries</a></span>(<span class="dt">my.polygon =</span> city_boundary_spdf)

<span class="co"># print first few records ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(boundary)
        , <span class="dt">caption =</span> <span class="st">"Table 2. boundary is a matrix of coordinate pairs"</span>
        , <span class="dt">col.names =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"long"</span>, <span class="st">"lat"</span>))</code></pre></div>
<table class="table">
<caption>Table 2. boundary is a matrix of coordinate pairs</caption>
<thead><tr class="header">
<th align="right">long</th>
<th align="right">lat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">-87.93514</td>
<td align="right">42.00089</td>
</tr>
<tr class="even">
<td align="right">-87.93509</td>
<td align="right">42.00094</td>
</tr>
<tr class="odd">
<td align="right">-87.93517</td>
<td align="right">42.00333</td>
</tr>
<tr class="even">
<td align="right">-87.93519</td>
<td align="right">42.00430</td>
</tr>
<tr class="odd">
<td align="right">-87.93521</td>
<td align="right">42.00491</td>
</tr>
<tr class="even">
<td align="right">-87.93523</td>
<td align="right">42.00573</td>
</tr>
</tbody>
</table>
</div>
<div id="multiple-polygons" class="section level3">
<h3 class="hasAnchor">
<a href="#multiple-polygons" class="anchor"></a>Multiple polygons</h3>
<p>Otherwise, a <a href="https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/list">list</a> of labeled matrices, with each matrix representing the coordinate pairs that make the boundary of each particular polygon in <code>my.polygon</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create list of coordinate pair matrices for each community area ----</span>
community.area.boundaries &lt;-
<span class="st">  </span><span class="kw"><a href="../reference/GetPolygonBoundaries.html">GetPolygonBoundaries</a></span>(<span class="dt">my.polygon =</span> community_areas_spdf
                       , <span class="dt">labels =</span> community_areas_spdf<span class="op">$</span>community)

<span class="co"># print first few records for two communities ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(community.area.boundaries[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"AUSTIN"</span>, <span class="st">"WEST ELSDON"</span>)]
             , <span class="dt">FUN =</span> head)
      , <span class="dt">caption =</span> <span class="st">"Table 3. Austin (left) and West Elsdon's (right) boundaries"</span>
      , <span class="dt">col.names =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"long"</span>, <span class="st">"lat"</span>))</code></pre></div>
<table class="table kable_wrapper">
<caption>
Table 3. Austin (left) and West Elsdon’s (right) boundaries
</caption>
<tbody><tr>
<td>
<table class="table">
<thead><tr class="header">
<th align="right">long</th>
<th align="right">lat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">-87.78942</td>
<td align="right">41.91751</td>
</tr>
<tr class="even">
<td align="right">-87.78927</td>
<td align="right">41.91743</td>
</tr>
<tr class="odd">
<td align="right">-87.78896</td>
<td align="right">41.91730</td>
</tr>
<tr class="even">
<td align="right">-87.78888</td>
<td align="right">41.91727</td>
</tr>
<tr class="odd">
<td align="right">-87.78873</td>
<td align="right">41.91722</td>
</tr>
<tr class="even">
<td align="right">-87.78863</td>
<td align="right">41.91718</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table">
<thead><tr class="header">
<th align="right">long</th>
<th align="right">lat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">-87.71378</td>
<td align="right">41.80393</td>
</tr>
<tr class="even">
<td align="right">-87.71377</td>
<td align="right">41.80348</td>
</tr>
<tr class="odd">
<td align="right">-87.71375</td>
<td align="right">41.80247</td>
</tr>
<tr class="even">
<td align="right">-87.71371</td>
<td align="right">41.80081</td>
</tr>
<tr class="odd">
<td align="right">-87.71350</td>
<td align="right">41.80069</td>
</tr>
<tr class="even">
<td align="right">-87.71361</td>
<td align="right">41.80069</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody>
</table>
</div>
</div>
<div id="step-2--use-labelpointswithinpolygons" class="section level2">
<h2 class="hasAnchor">
<a href="#step-2--use-labelpointswithinpolygons" class="anchor"></a>Step 2. Use LabelPointsWithinPolygons()</h2>
<p><code><a href="../reference/LabelPointsWithinPolygons.html">LabelPointsWithinPolygons()</a></code> identifies which longitudinal and latitudinal points lie within the polygon boundaries created from <code><a href="../reference/GetPolygonBoundaries.html">GetPolygonBoundaries()</a></code>.</p>
<p>The first two arguments of <code><a href="../reference/LabelPointsWithinPolygons.html">LabelPointsWithinPolygons()</a></code> are the longitude and latitude columns that create your coordinate pairs of interest. The final argument - <code>polygon.boundaries</code> is the object you created from <code><a href="../reference/GetPolygonBoundaries.html">GetPolygonBoundaries()</a></code>.</p>
<div id="polygon-boundaries-is-a-matrix" class="section level3">
<h3 class="hasAnchor">
<a href="#polygon-boundaries-is-a-matrix" class="anchor"></a><code>polygon.boundaries</code> is a matrix</h3>
<p>If <code>polygon.boundaries</code> is a coordinate pair matrix, a logical vector will be returned identifying those points which lie in the polygon.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># identify cps schools that lie in Chicago ----</span>
cps_sy1819<span class="op">$</span>in_chicago &lt;-
<span class="st">  </span><span class="kw"><a href="../reference/LabelPointsWithinPolygons.html">LabelPointsWithinPolygons</a></span>(<span class="dt">lng =</span> cps_sy1819<span class="op">$</span>school_longitude
                            , <span class="dt">lat =</span> cps_sy1819<span class="op">$</span>school_latitude
                            , <span class="dt">polygon.boundaries =</span> boundary)

<span class="co"># show first few records ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(cps_sy1819[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(relevant.columns, <span class="st">"in_chicago"</span>)])
      , <span class="dt">caption =</span> <span class="st">"Table 4. A logical vector is returned when polygon.boundaries is a matrix"</span>)</code></pre></div>
<table class="table">
<caption>Table 4. A logical vector is returned when polygon.boundaries is a matrix</caption>
<thead><tr class="header">
<th align="left">school_id</th>
<th align="left">short_name</th>
<th align="right">school_longitude</th>
<th align="right">school_latitude</th>
<th align="left">in_chicago</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">609760</td>
<td align="left">CARVER MILITARY HS</td>
<td align="right">-87.59062</td>
<td align="right">41.65629</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">609780</td>
<td align="left">MARINE LEADERSHIP AT AMES HS</td>
<td align="right">-87.72174</td>
<td align="right">41.91604</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">610304</td>
<td align="left">PHOENIX MILITARY HS</td>
<td align="right">-87.68696</td>
<td align="right">41.87912</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">610513</td>
<td align="left">AIR FORCE HS</td>
<td align="right">-87.63276</td>
<td align="right">41.82814</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">610390</td>
<td align="left">RICKOVER MILITARY HS</td>
<td align="right">-87.66579</td>
<td align="right">41.98902</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">609754</td>
<td align="left">CHICAGO MILITARY HS</td>
<td align="right">-87.61922</td>
<td align="right">41.83055</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<div id="polygon-boundaries-is-a-list-of-matrices" class="section level3">
<h3 class="hasAnchor">
<a href="#polygon-boundaries-is-a-list-of-matrices" class="anchor"></a><code>polygon.boundaries</code> is a list of matrices</h3>
<p>Otherwise, a character vector will be returned identifying those points that lie in each polygon.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># identify the community that each cps school lies in ----</span>
cps_sy1819<span class="op">$</span>community &lt;-
<span class="st">  </span><span class="kw"><a href="../reference/LabelPointsWithinPolygons.html">LabelPointsWithinPolygons</a></span>(<span class="dt">lng =</span> cps_sy1819<span class="op">$</span>school_longitude
                            , <span class="dt">lat =</span> cps_sy1819<span class="op">$</span>school_latitude
                            , <span class="dt">polygon.boundaries =</span> community.area.boundaries)

<span class="co"># show first few records ----</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(cps_sy1819[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(relevant.columns, <span class="st">"in_chicago"</span>, <span class="st">"community"</span>)])
           , <span class="dt">caption =</span> <span class="st">"Table 5. A character vector is returned when polygon.boundaries is a list of labeled matrices"</span>)</code></pre></div>
<table class="table">
<caption>Table 5. A character vector is returned when polygon.boundaries is a list of labeled matrices</caption>
<thead><tr class="header">
<th align="left">school_id</th>
<th align="left">short_name</th>
<th align="right">school_longitude</th>
<th align="right">school_latitude</th>
<th align="left">in_chicago</th>
<th align="left">community</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">609760</td>
<td align="left">CARVER MILITARY HS</td>
<td align="right">-87.59062</td>
<td align="right">41.65629</td>
<td align="left">TRUE</td>
<td align="left">RIVERDALE</td>
</tr>
<tr class="even">
<td align="left">609780</td>
<td align="left">MARINE LEADERSHIP AT AMES HS</td>
<td align="right">-87.72174</td>
<td align="right">41.91604</td>
<td align="left">TRUE</td>
<td align="left">LOGAN SQUARE</td>
</tr>
<tr class="odd">
<td align="left">610304</td>
<td align="left">PHOENIX MILITARY HS</td>
<td align="right">-87.68696</td>
<td align="right">41.87912</td>
<td align="left">TRUE</td>
<td align="left">NEAR WEST SIDE</td>
</tr>
<tr class="even">
<td align="left">610513</td>
<td align="left">AIR FORCE HS</td>
<td align="right">-87.63276</td>
<td align="right">41.82814</td>
<td align="left">TRUE</td>
<td align="left">ARMOUR SQUARE</td>
</tr>
<tr class="odd">
<td align="left">610390</td>
<td align="left">RICKOVER MILITARY HS</td>
<td align="right">-87.66579</td>
<td align="right">41.98902</td>
<td align="left">TRUE</td>
<td align="left">EDGEWATER</td>
</tr>
<tr class="even">
<td align="left">609754</td>
<td align="left">CHICAGO MILITARY HS</td>
<td align="right">-87.61922</td>
<td align="right">41.83055</td>
<td align="left">TRUE</td>
<td align="left">DOUGLAS</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p><code>pointdexter</code> finds the boundaries of whatever polygon you give so that you can identify coordinate pairs that lie within it. This is useful when wanting to generate local statistics for particular communities.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># identify the school ratings for high schools in Austin ---- </span>

<span class="co"># filter cps schools</span>
austin.hs &lt;-
<span class="st">  </span>cps_sy1819[cps_sy1819<span class="op">$</span>community <span class="op">==</span><span class="st"> "AUSTIN"</span> <span class="op">&amp;</span><span class="st"> </span>cps_sy1819<span class="op">$</span>is_high_school, ]

<span class="co"># arrange data by overall rating</span>
austin.hs &lt;-<span class="st"> </span>austin.hs[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/order">order</a></span>(austin.hs<span class="op">$</span>overall_rating), ]

<span class="co"># show results</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(austin.hs[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(relevant.columns , <span class="st">"overall_rating"</span>,
              <span class="st">"is_high_school"</span>, <span class="st">"community"</span>)]
      , <span class="dt">caption =</span> <span class="st">"Table 6. Austin's highest rank high school is YCCS - Scholastic Academy, SY1819"</span>
        , <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</code></pre></div>
<table class="table">
<caption>Table 6. Austin’s highest rank high school is YCCS - Scholastic Academy, SY1819</caption>
<thead><tr class="header">
<th align="left">school_id</th>
<th align="left">short_name</th>
<th align="right">school_longitude</th>
<th align="right">school_latitude</th>
<th align="left">overall_rating</th>
<th align="left">is_high_school</th>
<th align="left">community</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">400123</td>
<td align="left">YCCS - SCHOLASTIC ACHIEVEMENT</td>
<td align="right">-87.74254</td>
<td align="right">41.88045</td>
<td align="left">Level 1+</td>
<td align="left">TRUE</td>
<td align="left">AUSTIN</td>
</tr>
<tr class="even">
<td align="left">400127</td>
<td align="left">YCCS - AUSTIN CAREER</td>
<td align="right">-87.76022</td>
<td align="right">41.89498</td>
<td align="left">Level 1</td>
<td align="left">TRUE</td>
<td align="left">AUSTIN</td>
</tr>
<tr class="odd">
<td align="left">400144</td>
<td align="left">YCCS - WESTSIDE HOLISTIC</td>
<td align="right">-87.74881</td>
<td align="right">41.90224</td>
<td align="left">Level 1</td>
<td align="left">TRUE</td>
<td align="left">AUSTIN</td>
</tr>
<tr class="even">
<td align="left">610244</td>
<td align="left">CLARK HS</td>
<td align="right">-87.75333</td>
<td align="right">41.87288</td>
<td align="left">Level 2+</td>
<td align="left">TRUE</td>
<td align="left">AUSTIN</td>
</tr>
<tr class="odd">
<td align="left">610245</td>
<td align="left">DOUGLASS HS</td>
<td align="right">-87.76767</td>
<td align="right">41.89037</td>
<td align="left">Level 2</td>
<td align="left">TRUE</td>
<td align="left">AUSTIN</td>
</tr>
<tr class="even">
<td align="left">610518</td>
<td align="left">AUSTIN CCA HS</td>
<td align="right">-87.76192</td>
<td align="right">41.88599</td>
<td align="left">Level 2</td>
<td align="left">TRUE</td>
<td align="left">AUSTIN</td>
</tr>
</tbody>
</table>
</div>
<div id="session-info" class="section level2">
<h2 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session Info</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/sessionInfo">sessionInfo</a></span>()</code></pre></div>
<pre><code>## R version 3.5.2 (2018-12-20)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS High Sierra 10.13.6
## 
## Matrix products: default
## BLAS: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] knitr_1.21        sp_1.3-1          pointdexter_0.1.0
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.0       rstudioapi_0.9.0 xml2_1.2.0       magrittr_1.5    
##  [5] roxygen2_6.1.1   units_0.6-2      MASS_7.3-51.1    lattice_0.20-38 
##  [9] R6_2.3.0         rlang_0.3.1      highr_0.7        stringr_1.3.1   
## [13] tools_3.5.2      grid_3.5.2       xfun_0.4         e1071_1.7-0     
## [17] DBI_1.0.0        class_7.3-14     htmltools_0.3.6  commonmark_1.7  
## [21] yaml_2.2.0       digest_0.6.18    assertthat_0.2.0 rprojroot_1.3-2 
## [25] sf_0.7-2         pkgdown_1.3.0    crayon_1.3.4     splancs_2.01-40 
## [29] fs_1.2.6         memoise_1.1.0    evaluate_0.12    rmarkdown_1.11  
## [33] stringi_1.2.4    compiler_3.5.2   desc_1.2.0       backports_1.1.3 
## [37] classInt_0.3-1</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li><a href="#spatial-data-packages">Spatial Data Packages</a></li>
      <li><a href="#built-in-data">Built-in Data</a></li>
      <li><a href="#step-1--use-getpolygonboundaries">Step 1. Use GetPolygonBoundaries()</a></li>
      <li><a href="#step-2--use-labelpointswithinpolygons">Step 2. Use LabelPointsWithinPolygons()</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
      <li><a href="#session-info">Session Info</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Cristian E. Nuno.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
